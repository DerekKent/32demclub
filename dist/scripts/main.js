"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_backbone=require("backbone"),_backbone2=_interopRequireDefault(_backbone),_router=require("~/router"),_router2=_interopRequireDefault(_router),_appApp=require("~/app/app"),_appApp2=_interopRequireDefault(_appApp),EXTERNAL=/^((f|ht)tps?:)?\/\//,MAILTO=/^mailto:(.+)/,App=function e(){_classCallCheck(this,e),this.router=_router2["default"],this.view=_appApp2["default"],_backbone2["default"].history.start({pushState:!0}),_jquery2["default"](document).on("click",'a[href]:not([data-bypass]):not([href^="#"])',function(e){if(!e.metaKey&&1===e.which){var t=_jquery2["default"](this),r=t.attr("href");if(!e.isDefaultPrevented()&&!MAILTO.test(r))if(e.preventDefault(),EXTERNAL.test(r))window.open(r,"_blank");else{var a=!0;t.data("trigger")===!1&&(a=!1),_router2["default"].navigate(r,{trigger:a})}}})},app=new App;exports["default"]=app,module.exports=exports["default"];